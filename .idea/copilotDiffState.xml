<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/sweetapps/pocketchord/ui/dialogs/OptionalUpdateDialog.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/sweetapps/pocketchord/ui/dialogs/OptionalUpdateDialog.kt" />
              <option name="originalContent" value="package com.sweetapps.pocketchord.ui.dialogs&#10;&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.Close&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.clip&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.style.TextAlign&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.compose.ui.window.Dialog&#10;import androidx.compose.ui.window.DialogProperties&#10;import com.sweetapps.pocketchord.R&#10;&#10;/**&#10; * 업데이트 팝업 컴포넌트 (강제/선택적 통합)&#10; *&#10; * isForce = true: 강제 업데이트 모드 (닫기 불가, &quot;나중에&quot; 버튼 숨김)&#10; * isForce = false: 선택적 업데이트 모드 (&quot;나중에&quot; 버튼 표시, 닫기 가능)&#10; *&#10; * Supabase의 is_force 필드 값에 따라 동작이 결정됩니다.&#10; * 여기에 보이는 문구는 기본값이며, 호출부에서 재정의 가능합니다.&#10; */&#10;@Composable&#10;fun OptionalUpdateDialog(&#10;    isForce: Boolean = false,&#10;    title: String = &quot;앱 업데이트&quot;,&#10;    updateButtonText: String = &quot;지금 업데이트&quot;,&#10;    laterButtonText: String = &quot;나중에&quot;,&#10;    features: List&lt;String&gt;? = null,&#10;    version: String? = null,&#10;    estimatedTime: String? = null,&#10;    onUpdateClick: () -&gt; Unit,&#10;    onLaterClick: (() -&gt; Unit)? = null&#10;) {&#10;    Dialog(&#10;        onDismissRequest = {&#10;            if (!isForce) {&#10;                onLaterClick?.invoke()&#10;            }&#10;        },&#10;        properties = DialogProperties(&#10;            dismissOnBackPress = !isForce,&#10;            dismissOnClickOutside = !isForce,&#10;            usePlatformDefaultWidth = false&#10;        )&#10;    ) {&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .background(Color.Black.copy(alpha = 0.5f))&#10;                .padding(24.dp),&#10;            contentAlignment = Alignment.Center&#10;        ) {&#10;            Card(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .wrapContentHeight(),&#10;                shape = RoundedCornerShape(24.dp),&#10;                colors = CardDefaults.cardColors(containerColor = Color.White),&#10;                elevation = CardDefaults.cardElevation(defaultElevation = 16.dp)&#10;            ) {&#10;                Box {&#10;                    Column(&#10;                        horizontalAlignment = Alignment.CenterHorizontally,&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .verticalScroll(rememberScrollState())&#10;                            .padding(28.dp)&#10;                            .padding(top = 16.dp) // X 버튼 공간&#10;                    ) {&#10;                        // 상단 이미지&#10;                        Box(&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .aspectRatio(1.6f)&#10;                                .clip(RoundedCornerShape(12.dp))&#10;                        ) {&#10;                            Image(&#10;                                painter = painterResource(id = R.drawable.update_sample),&#10;                                contentDescription = null,&#10;                                contentScale = ContentScale.Crop,&#10;                                modifier = Modifier.fillMaxSize()&#10;                            )&#10;                        }&#10;&#10;                        Spacer(modifier = Modifier.height(20.dp))&#10;&#10;                        // 버전 배지 (옵션)&#10;                        version?.let {&#10;                            Surface(&#10;                                color = Color(0xFFE3F2FD),&#10;                                shape = RoundedCornerShape(20.dp)&#10;                            ) {&#10;                                Text(&#10;                                    text = &quot;v$it&quot;,&#10;                                    fontSize = 13.sp,&#10;                                    fontWeight = FontWeight.Medium,&#10;                                    color = Color(0xFF1976D2),&#10;                                    modifier = Modifier.padding(horizontal = 12.dp, vertical = 6.dp)&#10;                                )&#10;                            }&#10;                            Spacer(modifier = Modifier.height(12.dp))&#10;                        }&#10;&#10;                        // 제목&#10;                        Text(&#10;                            text = title,&#10;                            fontSize = 24.sp,&#10;                            fontWeight = FontWeight.Bold,&#10;                            color = Color(0xFF1A1A1A),&#10;                            textAlign = TextAlign.Center&#10;                        )&#10;&#10;                        val hasFeatures = !features.isNullOrEmpty()&#10;                        if (hasFeatures) {&#10;                            Spacer(modifier = Modifier.height(16.dp))&#10;                            Column(modifier = Modifier.fillMaxWidth()) {&#10;                                features!!.forEach { feature -&gt;&#10;                                    FeatureItem(feature)&#10;                                    Spacer(modifier = Modifier.height(8.dp))&#10;                                }&#10;                            }&#10;                        }&#10;&#10;                        // 예상 소요 시간 (옵션)&#10;                        estimatedTime?.let {&#10;                            Spacer(modifier = Modifier.height(10.dp))&#10;                            Text(&#10;                                text = &quot;예상 소요: $it&quot;,&#10;                                color = Color(0xFF8A8A8A),&#10;                                fontSize = 13.sp&#10;                            )&#10;                        }&#10;&#10;                        // features 없으면 버튼 위 여백 축소 (기존 22dp → 8dp)&#10;                        Spacer(modifier = Modifier.height(if (hasFeatures) 22.dp else 8.dp))&#10;&#10;                        // 버튼 레이아웃&#10;                        if (isForce) {&#10;                            // 오른쪽 정렬: 왼쪽은 비워두고, 오른쪽에만 버튼&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                horizontalArrangement = Arrangement.spacedBy(12.dp)&#10;                            ) {&#10;                                Spacer(modifier = Modifier.weight(1f).height(48.dp))&#10;                                Button(&#10;                                    onClick = onUpdateClick,&#10;                                    modifier = Modifier.weight(1f).height(48.dp),&#10;                                    colors = ButtonDefaults.buttonColors(containerColor = Color(0xFF4A7FFF)),&#10;                                    shape = RoundedCornerShape(12.dp)&#10;                                ) {&#10;                                    Text(&#10;                                        updateButtonText,&#10;                                        color = Color.White,&#10;                                        style = MaterialTheme.typography.labelLarge,&#10;                                        fontWeight = FontWeight.SemiBold&#10;                                    )&#10;                                }&#10;                            }&#10;                        } else {&#10;                            // 가로 한 줄: 왼쪽 '나중에' (보조), 오른쪽 '지금 업데이트'(주 버튼)&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                horizontalArrangement = Arrangement.spacedBy(12.dp)&#10;                            ) {&#10;                                Button(&#10;                                    onClick = { onLaterClick?.invoke() },&#10;                                    modifier = Modifier.weight(1f).height(48.dp),&#10;                                    colors = ButtonDefaults.buttonColors(&#10;                                        containerColor = Color(0xFFF2F4F7),&#10;                                        contentColor = Color(0xFF333333)&#10;                                    ),&#10;                                    shape = RoundedCornerShape(12.dp)&#10;                                ) {&#10;                                    Text(&#10;                                        laterButtonText,&#10;                                        style = MaterialTheme.typography.labelLarge,&#10;                                        fontWeight = FontWeight.Medium&#10;                                    )&#10;                                }&#10;                                Button(&#10;                                    onClick = onUpdateClick,&#10;                                    modifier = Modifier.weight(1f).height(48.dp),&#10;                                    colors = ButtonDefaults.buttonColors(containerColor = Color(0xFF4A7FFF)),&#10;                                    shape = RoundedCornerShape(12.dp)&#10;                                ) {&#10;                                    Text(&#10;                                        updateButtonText,&#10;                                        color = Color.White,&#10;                                        style = MaterialTheme.typography.labelLarge,&#10;                                        fontWeight = FontWeight.SemiBold&#10;                                    )&#10;                                }&#10;                            }&#10;                        }&#10;                    }&#10;&#10;                    // X 닫기 버튼 (선택적 모드에서만 표시)&#10;                    if (!isForce) {&#10;                        IconButton(&#10;                            onClick = { onLaterClick?.invoke() },&#10;                            modifier = Modifier&#10;                                .align(Alignment.TopEnd)&#10;                                .padding(8.dp)&#10;                                .size(40.dp)&#10;                        ) {&#10;                            Icon(&#10;                                imageVector = Icons.Default.Close,&#10;                                contentDescription = &quot;닫기&quot;,&#10;                                tint = Color(0xFF999999)&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun FeatureItem(text: String) {&#10;    Row(&#10;        verticalAlignment = Alignment.Top,&#10;        modifier = Modifier.fillMaxWidth()&#10;    ) {&#10;        Box(&#10;            modifier = Modifier&#10;                .padding(top = 8.dp)&#10;                .size(6.dp)&#10;                .background(Color(0xFF4A7FFF), RoundedCornerShape(3.dp))&#10;        )&#10;        Spacer(modifier = Modifier.width(12.dp))&#10;        Text(&#10;            text = text,&#10;            fontSize = 14.sp,&#10;            color = Color(0xFF666666),&#10;            lineHeight = 20.sp,&#10;            modifier = Modifier.weight(1f)&#10;        )&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.sweetapps.pocketchord.ui.dialogs&#10;&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.Close&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.clip&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.style.TextAlign&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.compose.ui.window.Dialog&#10;import androidx.compose.ui.window.DialogProperties&#10;import com.sweetapps.pocketchord.R&#10;&#10;/**&#10; * 업데이트 팝업 컴포넌트 (강제/선택적 통합)&#10; *&#10; * isForce = true: 강제 업데이트 모드 (닫기 불가, &quot;나중에&quot; 버튼 숨김)&#10; * isForce = false: 선택적 업데이트 모드 (&quot;나중에&quot; 버튼 표시, 닫기 가능)&#10; *&#10; * Supabase의 is_force 필드 값에 따라 동작이 결정됩니다.&#10; * 여기에 보이는 문구는 기본값이며, 호출부에서 재정의 가능합니다.&#10; */&#10;@Composable&#10;fun OptionalUpdateDialog(&#10;    isForce: Boolean = false,&#10;    title: String = &quot;앱 업데이트&quot;,&#10;    updateButtonText: String = &quot;지금 업데이트&quot;,&#10;    laterButtonText: String = &quot;나중에&quot;,&#10;    features: List&lt;String&gt;? = null,&#10;    version: String? = null,&#10;    estimatedTime: String? = null,&#10;    onUpdateClick: () -&gt; Unit,&#10;    onLaterClick: (() -&gt; Unit)? = null&#10;) {&#10;    Dialog(&#10;        onDismissRequest = {&#10;            if (!isForce) {&#10;                onLaterClick?.invoke()&#10;            }&#10;        },&#10;        properties = DialogProperties(&#10;            dismissOnBackPress = !isForce,&#10;            dismissOnClickOutside = !isForce,&#10;            usePlatformDefaultWidth = false&#10;        )&#10;    ) {&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .background(Color.Black.copy(alpha = 0.5f))&#10;                .padding(24.dp),&#10;            contentAlignment = Alignment.Center&#10;        ) {&#10;            Card(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .wrapContentHeight(),&#10;                shape = RoundedCornerShape(24.dp),&#10;                colors = CardDefaults.cardColors(containerColor = Color.White),&#10;                elevation = CardDefaults.cardElevation(defaultElevation = 16.dp)&#10;            ) {&#10;                Box {&#10;                    Column(&#10;                        horizontalAlignment = Alignment.CenterHorizontally,&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .verticalScroll(rememberScrollState())&#10;                            .padding(28.dp)&#10;                            .padding(top = 16.dp) // X 버튼 공간&#10;                    ) {&#10;                        // 상단 이미지&#10;                        Box(&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .aspectRatio(1.6f)&#10;                                .clip(RoundedCornerShape(12.dp))&#10;                        ) {&#10;                            Image(&#10;                                painter = painterResource(id = R.drawable.update_sample),&#10;                                contentDescription = null,&#10;                                contentScale = ContentScale.Crop,&#10;                                modifier = Modifier.fillMaxSize()&#10;                            )&#10;                        }&#10;&#10;                        Spacer(modifier = Modifier.height(20.dp))&#10;&#10;                        // 버전 배지 (옵션)&#10;                        version?.let {&#10;                            Surface(&#10;                                color = Color(0xFFE3F2FD),&#10;                                shape = RoundedCornerShape(20.dp)&#10;                            ) {&#10;                                Text(&#10;                                    text = &quot;v$it&quot;,&#10;                                    fontSize = 13.sp,&#10;                                    fontWeight = FontWeight.Medium,&#10;                                    color = Color(0xFF1976D2),&#10;                                    modifier = Modifier.padding(horizontal = 12.dp, vertical = 6.dp)&#10;                                )&#10;                            }&#10;                            Spacer(modifier = Modifier.height(12.dp))&#10;                        }&#10;&#10;                        // 제목&#10;                        Text(&#10;                            text = title,&#10;                            fontSize = 24.sp,&#10;                            fontWeight = FontWeight.Bold,&#10;                            color = Color(0xFF1A1A1A),&#10;                            textAlign = TextAlign.Center&#10;                        )&#10;&#10;                        val hasFeatures = !features.isNullOrEmpty()&#10;                        if (hasFeatures) {&#10;                            Spacer(modifier = Modifier.height(16.dp))&#10;                            Column(modifier = Modifier.fillMaxWidth()) {&#10;                                features!!.forEach { feature -&gt;&#10;                                    FeatureItem(feature)&#10;                                    Spacer(modifier = Modifier.height(8.dp))&#10;                                }&#10;                            }&#10;                        }&#10;&#10;                        // 예상 소요 시간 (옵션)&#10;                        estimatedTime?.let {&#10;                            Spacer(modifier = Modifier.height(10.dp))&#10;                            Text(&#10;                                text = &quot;예상 소요: $it&quot;,&#10;                                color = Color(0xFF8A8A8A),&#10;                                fontSize = 13.sp&#10;                            )&#10;                        }&#10;&#10;                        // features 없으면 버튼 위 여백 축소 (기존 22dp → 8dp)&#10;                        Spacer(modifier = Modifier.height(if (hasFeatures) 22.dp else 8.dp))&#10;&#10;                        // 버튼 레이아웃&#10;                        if (isForce) {&#10;                            // 오른쪽 정렬: 왼쪽은 비워두고, 오른쪽에만 버튼&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                horizontalArrangement = Arrangement.spacedBy(12.dp)&#10;                            ) {&#10;                                Spacer(modifier = Modifier.weight(1f).height(48.dp))&#10;                                Button(&#10;                                    onClick = onUpdateClick,&#10;                                    modifier = Modifier.weight(1f).height(48.dp),&#10;                                    colors = ButtonDefaults.buttonColors(containerColor = Color(0xFF4A7FFF)),&#10;                                    shape = RoundedCornerShape(12.dp)&#10;                                ) {&#10;                                    Text(&#10;                                        updateButtonText,&#10;                                        color = Color.White,&#10;                                        style = MaterialTheme.typography.labelLarge,&#10;                                        fontWeight = FontWeight.SemiBold&#10;                                    )&#10;                                }&#10;                            }&#10;                        } else {&#10;                            // 가로 한 줄: 왼쪽 '나중에' (보조), 오른쪽 '지금 업데이트'(주 버튼)&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                horizontalArrangement = Arrangement.spacedBy(12.dp)&#10;                            ) {&#10;                                Button(&#10;                                    onClick = { onLaterClick?.invoke() },&#10;                                    modifier = Modifier.weight(1f).height(48.dp),&#10;                                    colors = ButtonDefaults.buttonColors(&#10;                                        containerColor = Color(0xFFF2F4F7),&#10;                                        contentColor = Color(0xFF333333)&#10;                                    ),&#10;                                    shape = RoundedCornerShape(12.dp)&#10;                                ) {&#10;                                    Text(&#10;                                        laterButtonText,&#10;                                        style = MaterialTheme.typography.labelLarge,&#10;                                        fontWeight = FontWeight.Medium&#10;                                    )&#10;                                }&#10;                                Button(&#10;                                    onClick = onUpdateClick,&#10;                                    modifier = Modifier.weight(1f).height(48.dp),&#10;                                    colors = ButtonDefaults.buttonColors(containerColor = Color(0xFF4A7FFF)),&#10;                                    shape = RoundedCornerShape(12.dp)&#10;                                ) {&#10;                                    Text(&#10;                                        updateButtonText,&#10;                                        color = Color.White,&#10;                                        style = MaterialTheme.typography.labelLarge,&#10;                                        fontWeight = FontWeight.SemiBold&#10;                                    )&#10;                                }&#10;                            }&#10;                        }&#10;                    }&#10;&#10;                    // X 닫기 버튼 (선택적 모드에서만 표시)&#10;                    if (!isForce) {&#10;                        IconButton(&#10;                            onClick = { onLaterClick?.invoke() },&#10;                            modifier = Modifier&#10;                                .align(Alignment.TopEnd)&#10;                                .padding(8.dp)&#10;                                .size(40.dp)&#10;                        ) {&#10;                            Icon(&#10;                                imageVector = Icons.Default.Close,&#10;                                contentDescription = &quot;닫기&quot;,&#10;                                tint = Color(0xFF999999)&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun FeatureItem(text: String) {&#10;    // 불릿(점) 제거: 텍스트만 좌측 정렬로 표시&#10;    Text(&#10;        text = text,&#10;        fontSize = 14.sp,&#10;        color = Color(0xFF666666),&#10;        lineHeight = 20.sp,&#10;        modifier = Modifier.fillMaxWidth()&#10;    )&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>