# ë¦´ë¦¬ì¦ˆ í…ŒìŠ¤íŠ¸ SQL ìŠ¤í¬ë¦½íŠ¸ - Phase 2.4 ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸ (ì„¹ì…˜ 4~6)

- **ë²„ì „**: v3.1.2  
- **ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-11-10 03:15:00 KST  
- **ì´ì „ ë¬¸ì„œ**: [Phase 2.2 ì„¤ì • ê°€ì´ë“œ](RELEASE-TEST-PHASE2.2-SETUP.md)

---

**DB ì„¤ì •ì„ ì•„ì§ ì™„ë£Œí•˜ì§€ ì•Šì•˜ë‹¤ë©´:**
â¡ï¸ **[Phase 2.2 ì„¤ì • ê°€ì´ë“œ](RELEASE-TEST-PHASE2.2-SETUP.md)ë¡œ ì´ë™í•˜ì—¬ ì„¹ì…˜ 3ì„ ë¨¼ì € ì™„ë£Œí•˜ì„¸ìš”**

**ì´ë¯¸ DB ì„¤ì •ì„ ì™„ë£Œí–ˆë‹¤ë©´:**
â¡ï¸ ì•„ë˜ **S1. DB ë³€ê²½ ë° ì´ˆê¸° ì„¤ì •**ë¶€í„° ì‹œì‘í•˜ì„¸ìš”

---

## 4. ì‹œë‚˜ë¦¬ì˜¤ë³„ í…ŒìŠ¤íŠ¸

### 4.S1. DB ë³€ê²½ ë° ì´ˆê¸° ì„¤ì •

**ì „ì œì¡°ê±´**: ì—†ìŒ (ì„¹ì…˜ 3ì˜ SQL ì‹¤í–‰ í›„ ì´ ë‹¨ê³„ë¡œ ì§„í–‰)

**ëª©ì **: ì„¹ì…˜ 3ì—ì„œ ì‹¤í–‰í•œ DB ìŠ¤í‚¤ë§ˆ ë³€ê²½ê³¼ ì´ˆê¸°ê°’ ì„¤ì •ì´ ì •ìƒì ìœ¼ë¡œ ì ìš©ë˜ì—ˆëŠ”ì§€ ê²€ì¦

---

### ğŸ“Œ 4.S1.1ë‹¨ê³„: í…Œì´ë¸” êµ¬ì¡° í™•ì¸

**SQL ìŠ¤í¬ë¦½íŠ¸ - ê³µí†µ** (ë¦´ë¦¬ì¦ˆ/ë””ë²„ê·¸ êµ¬ë¶„ ì—†ìŒ):
```sql
-- update_policy í…Œì´ë¸”ì˜ ëª¨ë“  ì»¬ëŸ¼ í™•ì¸ (í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ í™•ì¸)
SELECT column_name, data_type, column_default, is_nullable
FROM information_schema.columns
WHERE table_name = 'update_policy'
  AND column_name IN ('reshow_interval_hours', 'reshow_interval_minutes', 'reshow_interval_seconds', 'max_later_count')
ORDER BY column_name;
```

**ê¸°ëŒ€ ê²°ê³¼**: 4ê°œ í–‰ ë°˜í™˜ (ìƒˆ í•„ë“œê°€ ì¶”ê°€ë˜ì—ˆëŠ”ì§€ í™•ì¸)

| column_name | data_type | column_default | is_nullable |
|------------|-----------|----------------|-------------|
| max_later_count | integer | 3 | NO |
| reshow_interval_hours | integer | 24 | NO |
| reshow_interval_minutes | integer | NULL | YES |
| reshow_interval_seconds | integer | NULL | YES |

**ì°¸ê³ **: ì´ SQLì€ í…Œì´ë¸” êµ¬ì¡° ìì²´ë¥¼ í™•ì¸í•˜ë¯€ë¡œ ë¦´ë¦¬ì¦ˆ/ë””ë²„ê·¸ êµ¬ë¶„ì´ ì—†ìŠµë‹ˆë‹¤.

---

### ğŸ“Œ 4.S1.2ë‹¨ê³„: ë°ì´í„° ê°’ í™•ì¸

**SQL ìŠ¤í¬ë¦½íŠ¸ - ê³µí†µ** (ë¦´ë¦¬ì¦ˆ + ë””ë²„ê·¸ ë™ì‹œ í™•ì¸):
```sql
-- ë””ë²„ê·¸ & ë¦´ë¦¬ì¦ˆ ì„¤ì • í™•ì¸ (í•œ ë²ˆì—)
SELECT app_id, is_active, target_version_code, is_force_update, 
       reshow_interval_hours, reshow_interval_minutes, reshow_interval_seconds, max_later_count
FROM update_policy 
WHERE app_id IN ('com.sweetapps.pocketchord', 'com.sweetapps.pocketchord.debug')
ORDER BY app_id;
```

**ê¸°ëŒ€ ê²°ê³¼** (2í–‰ ë°˜í™˜):

| app_id | is_active | target_version_code | is_force_update | reshow_interval_hours | reshow_interval_minutes | reshow_interval_seconds | max_later_count |
|--------|-----------|---------------------|-----------------|----------------------|------------------------|------------------------|-----------------|
| com.sweetapps.pocketchord | true | 10 | false | 24 | NULL | NULL | 3 |
| com.sweetapps.pocketchord.debug | true | 10 | false | 1 | NULL | 60 | 3 |

---

### 4.S2. ì²« "ë‚˜ì¤‘ì—" í´ë¦­

| ì „ì œì¡°ê±´ | ëª©ì  | ì°¸ê³  |
|---------|-----|------|
| S1 ì™„ë£Œ (DB í•„ë“œ ì¶”ê°€ ë° ì´ˆê¸°ê°’ ì„¤ì • ì™„ë£Œ) | "ë‚˜ì¤‘ì—" ë²„íŠ¼ í´ë¦­ í›„ ì‹œê°„ ì¶”ì ì´ ì‹œì‘ë˜ê³ , ì¬ì‹œì‘ ì‹œ ì§€ì • ì‹œê°„ ë™ì•ˆ íŒì—…ì´ í‘œì‹œë˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸ | âš ï¸ ì´ ì‹œë‚˜ë¦¬ì˜¤ëŠ” ë””ë²„ê·¸ í™˜ê²½ì—ì„œë§Œ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤. ë¦´ë¦¬ì¦ˆ í™˜ê²½(24ì‹œê°„ ê°„ê²©) |

---

### ğŸ“Œ 4.S2.1ë‹¨ê³„: DB ì„¤ì • ê°„ë‹¨ í™•ì¸

```sql
-- ë””ë²„ê·¸ ì„¤ì • ë¹ ë¥¸ í™•ì¸
SELECT app_id, target_version_code, is_force_update, is_active
FROM update_policy 
WHERE app_id = 'com.sweetapps.pocketchord.debug';
```

**ê¸°ëŒ€ ê²°ê³¼**: (S1ì´ ì •ìƒ ì™„ë£Œë˜ì—ˆëŠ”ì§€ë§Œ í™•ì¸)

| app_id | target_version_code | is_force_update | is_active |
|--------|---------------------|-----------------|-----------|
| com.sweetapps.pocketchord.debug | 10 | false | true |

**âš ï¸ ë§Œì•½ ê²°ê³¼ê°€ ë‹¤ë¥´ë©´**: S1 ë‹¨ê³„ë¡œ ëŒì•„ê°€ì„œ ì´ˆê¸°ê°’ ì„¤ì • SQLì„ ë‹¤ì‹œ ì‹¤í–‰í•˜ì„¸ìš”.

---

### ğŸ“Œ 4.S2.2ë‹¨ê³„: ì•± ì‹¤í–‰ ë° íŒì—… í‘œì‹œ í™•ì¸

| ì‹¤í–‰ | ê¸°ëŒ€ UI | í•µì‹¬ í™•ì¸ í¬ì¸íŠ¸ |
|------|---------|----------------|
| 1. ë””ë²„ê·¸ ì•± ê°•ì œ ì¢…ë£Œ (ì™„ì „íˆ ì¢…ë£Œ) | âœ… ì„ íƒì  ì—…ë°ì´íŠ¸ íŒì—…ì´ í™”ë©´ì— í‘œì‹œë˜ì–´ì•¼ í•¨ | ì²« ì‹¤í–‰ì´ë¯€ë¡œ íŒì—…ì´ í‘œì‹œë˜ì–´ì•¼ í•¨ (ì•„ì§ "ë‚˜ì¤‘ì—"ë¥¼ ëˆ„ë¥¸ ì  ì—†ìŒ) |
| 2. ì•± Cold Startë¡œ ì¬ì‹¤í–‰ | âœ… "ë‚˜ì¤‘ì—" ë²„íŠ¼ê³¼ "ì—…ë°ì´íŠ¸" ë²„íŠ¼ì´ ëª¨ë‘ ë³´ì—¬ì•¼ í•¨ | âœ… "ë‚˜ì¤‘ì—" ë²„íŠ¼ ìˆìŒ |
| 3. Logcat ëª¨ë‹ˆí„°ë§ (Filter: `tag:UpdateLater`) | | âœ… "ì§€ê¸ˆ ì—…ë°ì´íŠ¸" ë²„íŠ¼ ìˆìŒ |

---

### ğŸ“Œ 4.S2.3ë‹¨ê³„: "ë‚˜ì¤‘ì—" ë²„íŠ¼ í´ë¦­

| ì‹¤í–‰ | ê¸°ëŒ€ ë¡œê·¸ (UpdateLater) | í™•ì¸ í¬ì¸íŠ¸ |
|------|----------------------|-----------|
| 1. íŒì—…ì—ì„œ "ë‚˜ì¤‘ì—" ë²„íŠ¼ í´ë¦­ | `UpdateLater: âœ‹ Update dialog dismissed for code=10` | âœ… íŒì—…ì´ ì •ìƒì ìœ¼ë¡œ ë‹«í˜ |
| 2. íŒì—… ë‹«í˜ í™•ì¸ | `UpdateLater: â±ï¸ Tracking: laterCount=0â†’1, timestamp=1762705544280` â† âœ… ì²« ì¶”ì  ì‹œì‘! | âœ… **ì¹´ìš´íŠ¸ 0â†’1 ì¦ê°€!** |
| | | âœ… í˜„ì¬ ì‹œê°„ ì €ì¥ë¨ |
| | | âœ… ë©”ì¸ í™”ë©´ìœ¼ë¡œ ë³µê·€ |

| ë‚´ë¶€ ë™ì‘ (SharedPreferences) | | |
|---------------------------|---|---|
| `update_dismissed_time`: í˜„ì¬ ì‹œê°„ (timestamp) | `update_later_count`: 1 (ì²˜ìŒ ì €ì¥ë¨) | `dismissedVersionCode`: 10 |

---

### ğŸ“Œ 4.S2.4ë‹¨ê³„: ì¬ì‹œì‘ í›„ ë¯¸í‘œì‹œ í™•ì¸ (1ë¶„ ì´ë‚´)

| ì‹¤í–‰ | ê¸°ëŒ€ ë¡œê·¸ (UpdateLater) | í™•ì¸ í¬ì¸íŠ¸ |
|------|----------------------|-----------|
| 1. ì•± ê°•ì œ ì¢…ë£Œ | `UpdateLater: â¸ï¸ Update dialog skipped (dismissed version: 10, target: 10)` â† âœ… íŒì—… ìŠ¤í‚µ! | âœ… ì‹œê°„ ë¯¸ê²½ê³¼ë¡œ íŒì—… ìŠ¤í‚µë¨ |
| 2. ì¦‰ì‹œ ì¬ì‹œì‘ (1ë¶„ ê²½ê³¼ ì•ˆ í•¨) | | âœ… íŒì—…ì´ í‘œì‹œë˜ì§€ ì•Šê³  ë©”ì¸ í™”ë©´ìœ¼ë¡œ ì§„ì… |

**ì°¸ê³ **: 
- **1ë¶„(60ì´ˆ) ê²½ê³¼ í›„**ì—ëŠ” `dismissedVersionCode`ë¥¼ ë¬´ì‹œí•˜ê³  ì¬í‘œì‹œë¨ (S3ì—ì„œ í…ŒìŠ¤íŠ¸)
- í˜„ì¬ëŠ” **ì‹œê°„ ë¯¸ê²½ê³¼ + ì´ë¯¸ ê±°ë¶€í•œ ë²„ì „**ì´ë¯€ë¡œ ìŠ¤í‚µë˜ëŠ” ê²ƒì´ ì •ìƒ

**S2 ì™„ë£Œ ì¡°ê±´**: âœ… ëª¨ë“  ë‹¨ê³„(1~4) í†µê³¼

---

### 4.S3. ì‹œê°„ ê²½ê³¼ í›„ ì¬í‘œì‹œ

**ì „ì œì¡°ê±´**: S2 ì™„ë£Œ ìƒíƒœ (1íšŒ "ë‚˜ì¤‘ì—" í´ë¦­ ì™„ë£Œ)

---

- âœ… SharedPreferencesì— `update_preferences` íŒŒì¼ ì‚¬ìš©
  - `update_dismissed_time`: ë§ˆì§€ë§‰ "ë‚˜ì¤‘ì—" í´ë¦­ ì‹œê°„
  - `update_later_count`: ëˆ„ì  íšŸìˆ˜
  - `dismissedVersionCode`: ê±°ë¶€í•œ ë²„ì „

---

### ğŸ“Œ 4.S3.1ë‹¨ê³„: 1ë¶„ ê²½ê³¼ ëŒ€ê¸°

| ì‹¤í–‰ | ì£¼ì˜ì‚¬í•­ |
|------|---------|
| 1. S2-4ë‹¨ê³„ ì™„ë£Œ í›„ (ì²« "ë‚˜ì¤‘ì—" í´ë¦­) | SharedPreferences ì‚­ì œëŠ” **í•˜ì§€ ë§ˆì„¸ìš”!** (ì¶”ì  ë°ì´í„°ê°€ ì´ˆê¸°í™”ë¨) |
| 2. **ì‹¤ì œë¡œ 1ë¶„(60ì´ˆ) ëŒ€ê¸°** (ë””ë²„ê·¸ ì•± ê¸°ì¤€ - `reshow_interval_seconds = 60`) | |
| ë˜ëŠ” ì—ë®¬ë ˆì´í„° ì‹œìŠ¤í…œ ì‹œê°„ì„ 60ì´ˆ ì•ìœ¼ë¡œ ë³€ê²½:<br>`adb -s emulator-5554 shell su root date @$(($(($(date +%s) + 60))))` | |

---

### ğŸ“Œ 4.S3.2ë‹¨ê³„: ì•± ì¬ì‹œì‘

| ì‹¤í–‰ | ê¸°ëŒ€ ë¡œê·¸ (UpdateLater) | í•„ìˆ˜ í™•ì¸ í¬ì¸íŠ¸ | UI í™•ì¸ |
|------|----------------------|---------------|---------|
| 1. ì•± ê°•ì œ ì¢…ë£Œ | `UpdateLater: â±ï¸ Update interval elapsed (>= 60s), reshow allowed` â† âœ… ì‹œê°„ ê²½ê³¼! | âœ… ì‹œê°„ ê²½ê³¼ ê°ì§€! | âœ… ì—…ë°ì´íŠ¸ íŒì—…ì´ ë‹¤ì‹œ ë‚˜íƒ€ë‚¨ |
| 2. ì•± ì¬ì‹¤í–‰ | `UpdateLater: ğŸ“Š Current later count: 1 / 3` â† âœ… í˜„ì¬ íšŸìˆ˜ | âœ… í˜„ì¬ ì¹´ìš´íŠ¸ í™•ì¸ (ì•„ì§ ì¦ê°€ ì•ˆ í•¨!) | âœ… "ë‚˜ì¤‘ì—" ë²„íŠ¼ ìˆìŒ |
| 3. Logcat ëª¨ë‹ˆí„°ë§ (Filter: `tag:UpdateLater`) | | | âœ… "ì—…ë°ì´íŠ¸" ë²„íŠ¼ ìˆìŒ |

---

### ğŸ“Œ 4.S3.3ë‹¨ê³„: "ë‚˜ì¤‘ì—" ë²„íŠ¼ í´ë¦­

| ì‹¤í–‰ | ê¸°ëŒ€ ë¡œê·¸ (UpdateLater) | í™•ì¸ í¬ì¸íŠ¸ |
|------|----------------------|-----------|
| 1. (2ë‹¨ê³„ì—ì„œ íŒì—…ì´ í‘œì‹œë˜ì—ˆë‹¤ë©´) "ë‚˜ì¤‘ì—" ë²„íŠ¼ í´ë¦­ | `UpdateLater: âœ‹ Update dialog dismissed for code=10` | âœ… íŒì—… ì •ìƒ ë‹«í˜ |
| 2. íŒì—… ë‹«í˜ í™•ì¸ | `UpdateLater: â±ï¸ Tracking: laterCount=1â†’2, timestamp=1731150000000` â† âœ… ì¹´ìš´íŠ¸ ì¦ê°€! | âœ… **ì¹´ìš´íŠ¸ 1â†’2 ì¦ê°€!** |
| | | âœ… í˜„ì¬ ì‹œê°„ ì €ì¥ë¨ |

| ë‚´ë¶€ ë™ì‘ (SharedPreferences) | S3 ì™„ë£Œ ì¡°ê±´ |
|---------------------------|------------|
| `update_dismissed_time`: í˜„ì¬ ì‹œê°„ìœ¼ë¡œ ê°±ì‹  | âœ… 1ë¶„(60ì´ˆ) ê²½ê³¼ í›„ íŒì—… ì¬í‘œì‹œ í™•ì¸ |
| `update_later_count`: 1 â†’ 2ë¡œ ì¦ê°€ | âœ… `â±ï¸ Update interval elapsed` ë¡œê·¸ í™•ì¸ |
| `dismissedVersionCode`: 10 ìœ ì§€ | âœ… `ğŸ“Š Current later count: X / 3` ë¡œê·¸ í™•ì¸ (í˜„ì¬ íšŸìˆ˜ í‘œì‹œ) |
| | âœ… "ë‚˜ì¤‘ì—" í´ë¦­ í›„ `laterCount=Xâ†’Y` ì¶”ì  ë¡œê·¸ í™•ì¸ (ì´ ì‹œì ì— ì¹´ìš´íŠ¸ ì¦ê°€!) |

**ë‹¤ìŒ ë‹¨ê³„**: S3ë¥¼ ì´ 3íšŒ ë°˜ë³µí•˜ì—¬ `laterCount`ê°€ 3ì— ë„ë‹¬í•˜ë©´ S4ë¡œ ì´ë™

---

### 4.S4. 3íšŒ "ë‚˜ì¤‘ì—" í›„ ê°•ì œ ì „í™˜

**ì „ì œì¡°ê±´**: S3ë¥¼ 2íšŒ ë” ë°˜ë³µ (ì´ 3íšŒ "ë‚˜ì¤‘ì—" í´ë¦­)

**ëŒ€ìƒ**: ë””ë²„ê·¸ ì•± (max_later_count = 3)

**ê¸°ëŒ€ ë¡œê·¸** (4ë²ˆì§¸ í‘œì‹œ ì‹œ - UpdateLater íƒœê·¸):
```
UpdateLater: â±ï¸ Update interval elapsed (>= 60s), reshow allowed
UpdateLater: ğŸ“Š Current later count: 3 / 3  â† âœ… ìµœëŒ€ íšŸìˆ˜ ë„ë‹¬!
UpdateLater: ğŸš¨ Later count (3) >= max (3), forcing update mode  â† âœ… ê°•ì œ ì „í™˜!
```

| í…ŒìŠ¤íŠ¸ ë‹¨ê³„ | UI í™•ì¸ |
|----------|---------|
| 1. S3 ê³¼ì • ë°˜ë³µ â†’ laterCount = 2 | âœ… "ë‚˜ì¤‘ì—" ë²„íŠ¼ ì—†ìŒ |
| 2. ë‹¤ì‹œ 1ë¶„ ê²½ê³¼ í›„ ì¬ì‹œì‘ | âœ… "ì—…ë°ì´íŠ¸" ë²„íŠ¼ë§Œ í‘œì‹œ |
| 3. "ë‚˜ì¤‘ì—" 3ë²ˆì§¸ í´ë¦­ â†’ laterCount = 3 | âœ… ë’¤ë¡œê°€ê¸° ëˆŒëŸ¬ë„ íŒì—… ë‹«íˆì§€ ì•ŠìŒ |
| 4. ë‹¤ì‹œ 1ë¶„ ê²½ê³¼ í›„ ì¬ì‹œì‘ | âœ… X ë²„íŠ¼ ì—†ìŒ |

---

### 4.S5. ì—…ë°ì´íŠ¸ í›„ ì´ˆê¸°í™”

**ì „ì œì¡°ê±´**: S3 ë˜ëŠ” S4 ìƒíƒœ (ì„ íƒì /ê°•ì œ ì—…ë°ì´íŠ¸ íŒì—… í‘œì‹œ ì¤‘)

**ëŒ€ìƒ**: ë””ë²„ê·¸/ë¦´ë¦¬ì¦ˆ ê³µí†µ (ë²„ì „ ì¦ê°€ ì‹œ ì¶”ì  ì´ˆê¸°í™”)

---

### ğŸ“Œ 4.S5.1ë‹¨ê³„: ì•± ë²„ì „ ì¦ê°€

**ì‹¤í–‰**:
1. Android Studioì—ì„œ `app/build.gradle.kts` íŒŒì¼ ì—´ê¸°
2. `versionCode` ì¦ê°€:
   ```kotlin
   android {
       defaultConfig {
           versionCode = 11  // 3 â†’ 11ë¡œ ì¦ê°€ (target 10ë³´ë‹¤ ë†’ê²Œ)
       }
   }
   ```
3. ì•± ì¬ë¹Œë“œ & ë””ë²„ê·¸ ê¸°ê¸°ì— ì„¤ì¹˜
4. ì•± ì‹œì‘

---

### ğŸ“Œ 4.S5.2ë‹¨ê³„: ë¡œê·¸ í™•ì¸

**ê¸°ëŒ€ ë¡œê·¸ (UpdateLater)**:
```
UpdateLater: ğŸ§¹ Clearing old update tracking data (version updated)  â† âœ… ìë™ ì´ˆê¸°í™”!
```

| í•„ìˆ˜ í™•ì¸ í¬ì¸íŠ¸ | UI í™•ì¸ |
|---------------|---------|
| âœ… **ìë™ ì´ˆê¸°í™” ì‹¤í–‰!** | âœ… ì—…ë°ì´íŠ¸ íŒì—… ë¯¸í‘œì‹œ |
| âœ… ì—…ë°ì´íŠ¸ íŒì—…ì´ í‘œì‹œë˜ì§€ ì•ŠìŒ | âœ… ì•±ì´ ì •ìƒì ìœ¼ë¡œ ë©”ì¸ í™”ë©´ìœ¼ë¡œ ì§„ì… |

---

### ğŸ“Œ 4.S5.3ë‹¨ê³„: ì¬ì‹œì‘ í›„ ìƒˆ ì—…ë°ì´íŠ¸ íŒì—… í™•ì¸

| ì‹¤í–‰ | í™•ì¸ í¬ì¸íŠ¸ | S5 ì™„ë£Œ ì¡°ê±´ |
|------|-----------|------------|
| 1. Supabaseì—ì„œ `target_version_code`ë¥¼ ë” ë†’ê²Œ ì„¤ì • (ì˜ˆ: 20) | âœ… ìƒˆ target (20) ì—…ë°ì´íŠ¸ íŒì—…ì´ í‘œì‹œë¨ | âœ… ë²„ì „ ì¦ê°€ ì‹œ íŒì—… ë¯¸í‘œì‹œ í™•ì¸ |
| 2. ì•± ê°•ì œ ì¢…ë£Œ í›„ ì¬ì‹œì‘ | âœ… ì´ì „ ì¶”ì  ë°ì´í„°(laterCount ë“±)ê°€ ì™„ì „íˆ ì´ˆê¸°í™”ë˜ì–´ ìƒˆë¡œ ì‹œì‘ë¨ | âœ… `ğŸ§¹ Clearing old update tracking data` ë¡œê·¸ í™•ì¸ |
| | | âœ… SharedPreferences ì´ˆê¸°í™” ê²€ì¦ (ì„ íƒ) |
| | | âœ… ìƒˆ ì—…ë°ì´íŠ¸ íŒì—… ì •ìƒ í‘œì‹œ í™•ì¸ |

---

### 4.S6. ì •ì±… ë³€ê²½ í…ŒìŠ¤íŠ¸

#### S6-1. ì¬í‘œì‹œ ê°„ê²© ë³€ê²½

**SQL ìŠ¤í¬ë¦½íŠ¸ - ë¦´ë¦¬ì¦ˆ ë²„ì „** â­:
```sql
-- ë¦´ë¦¬ì¦ˆ: ê°„ê²©ì„ 48ì‹œê°„ìœ¼ë¡œ ë³€ê²½ (ê¸°ë³¸ 24ì‹œê°„ â†’ 48ì‹œê°„)
UPDATE update_policy
SET reshow_interval_hours = 48,
    reshow_interval_minutes = NULL,  -- ìš´ì˜: í•­ìƒ NULL
    reshow_interval_seconds = NULL   -- ìš´ì˜: í•­ìƒ NULL
WHERE app_id = 'com.sweetapps.pocketchord';
```

**SQL ìŠ¤í¬ë¦½íŠ¸ - ë””ë²„ê·¸ ë²„ì „** ğŸ”§:
```sql
-- ë””ë²„ê·¸: ê°„ê²©ì„ 2ë¶„(120ì´ˆ)ë¡œ ë³€ê²½ (ê¸°ë³¸ 60ì´ˆ â†’ 120ì´ˆ)
UPDATE update_policy
SET reshow_interval_hours = 1,      -- ë¯¸ì‚¬ìš© (ì´ˆ ë‹¨ìœ„ ìš°ì„ )
    reshow_interval_minutes = NULL,  -- ë¯¸ì‚¬ìš© (ì´ˆ ë‹¨ìœ„ ìš°ì„ )
    reshow_interval_seconds = 120    -- 120ì´ˆ (2ë¶„)
WHERE app_id = 'com.sweetapps.pocketchord.debug';
```

**í…ŒìŠ¤íŠ¸** (ë””ë²„ê·¸ ê¸°ì¤€): 
- "ë‚˜ì¤‘ì—" í´ë¦­ í›„ 60ì´ˆ ê²½ê³¼ â†’ ë¯¸í‘œì‹œ âœ…
- 120ì´ˆ ê²½ê³¼ â†’ ì¬í‘œì‹œ âœ…

---

#### S6-2. ìµœëŒ€ íšŸìˆ˜ ë³€ê²½

**SQL ìŠ¤í¬ë¦½íŠ¸ - ë¦´ë¦¬ì¦ˆ ë²„ì „** â­:
```sql
-- ë¦´ë¦¬ì¦ˆ: ìµœëŒ€ 1íšŒë¡œ ë³€ê²½ (ê¸°ë³¸ 3íšŒ â†’ 1íšŒ)
UPDATE update_policy
SET max_later_count = 1
WHERE app_id = 'com.sweetapps.pocketchord';
```

**SQL ìŠ¤í¬ë¦½íŠ¸ - ë””ë²„ê·¸ ë²„ì „** ğŸ”§:
```sql
-- ë””ë²„ê·¸: ìµœëŒ€ 1íšŒë¡œ ë³€ê²½ (ê¸°ë³¸ 3íšŒ â†’ 1íšŒ)
UPDATE update_policy
SET max_later_count = 1
WHERE app_id = 'com.sweetapps.pocketchord.debug';
```

**í…ŒìŠ¤íŠ¸** (ë””ë²„ê·¸ ê¸°ì¤€):
- ì²« "ë‚˜ì¤‘ì—" í´ë¦­ â†’ laterCount = 1
- ì‹œê°„ ê²½ê³¼ í›„ ì¬ì‹œì‘ â†’ laterCount(1) >= max(1) â†’ ì¦‰ì‹œ ê°•ì œ ëª¨ë“œ âœ…

---

#### S6-3. ì¦‰ì‹œ ê°•ì œ ì „í™˜

**SQL ìŠ¤í¬ë¦½íŠ¸ - ë¦´ë¦¬ì¦ˆ ë²„ì „** â­:
```sql
-- ë¦´ë¦¬ì¦ˆ: ì •ì±…ì„ ê°•ì œ ì—…ë°ì´íŠ¸ë¡œ ë³€ê²½
UPDATE update_policy
SET is_force_update = true
WHERE app_id = 'com.sweetapps.pocketchord';
```

**SQL ìŠ¤í¬ë¦½íŠ¸ - ë””ë²„ê·¸ ë²„ì „** ğŸ”§:
```sql
-- ë””ë²„ê·¸: ì •ì±…ì„ ê°•ì œ ì—…ë°ì´íŠ¸ë¡œ ë³€ê²½
UPDATE update_policy
SET is_force_update = true
WHERE app_id = 'com.sweetapps.pocketchord.debug';
```

**í…ŒìŠ¤íŠ¸** (ë””ë²„ê·¸ ê¸°ì¤€):
- ì•± ì¬ì‹œì‘
- ê¸°ì¡´ laterCount ë¬´ì‹œí•˜ê³  ì¦‰ì‹œ ê°•ì œ íŒì—… í‘œì‹œ âœ…
- "ë‚˜ì¤‘ì—" ë²„íŠ¼ ì—†ìŒ, ë’¤ë¡œê°€ê¸° ì°¨ë‹¨ âœ…

---

## â¡ï¸ ë‹¤ìŒ ë‹¨ê³„
